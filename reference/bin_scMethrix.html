<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Bins the ranges of an scMethrix object. — bin_scMethrix • scMethrix</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Bins the ranges of an scMethrix object. — bin_scMethrix" />
<meta property="og:description" content="Bins the ranges of an scMethrix object." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">scMethrix</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.0001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/x01_load_data.html">01: Reading in the bedgraph data</a>
    </li>
    <li>
      <a href="../articles/x02_qc.html">02: QC and reports</a>
    </li>
    <li>
      <a href="../articles/x03_transforms.html">03: Transformations and Imputations</a>
    </li>
    <li>
      <a href="../articles/x04_clustering.html">04: Clustering and metacells</a>
    </li>
    <li>
      <a href="../articles/x05_hdf5.html">05: Working with large cohorts</a>
    </li>
    <li>
      <a href="../articles/x06_exporting.html">06: Exporting Downstream</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/CompEpigen/scMethrix/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Bins the ranges of an <code><a href='scMethrix-class.html'>scMethrix</a></code> object.</h1>
    <small class="dont-index">Source: <a href='https://github.com/CompEpigen/scMethrix/blob/master/R/scMethrix_transforms.R'><code>R/scMethrix_transforms.R</code></a></small>
    <div class="hidden name"><code>bin_scMethrix.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Bins the ranges of an <code><a href='scMethrix-class.html'>scMethrix</a></code> object.</p>
    </div>

    <pre class="usage"><span class='fu'>bin_scMethrix</span><span class='op'>(</span>
  scm <span class='op'>=</span> <span class='cn'>NULL</span>,
  regions <span class='op'>=</span> <span class='cn'>NULL</span>,
  bin_size <span class='op'>=</span> <span class='fl'>1e+05</span>,
  bin_by <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"bp"</span>, <span class='st'>"cpg"</span><span class='op'>)</span>,
  trans <span class='op'>=</span> <span class='cn'>NULL</span>,
  overlap_type <span class='op'>=</span> <span class='st'>"within"</span>,
  h5_dir <span class='op'>=</span> <span class='cn'>NULL</span>,
  verbose <span class='op'>=</span> <span class='cn'>TRUE</span>,
  batch_size <span class='op'>=</span> <span class='fl'>20</span>,
  n_threads <span class='op'>=</span> <span class='fl'>1</span>,
  replace <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>scm</th>
      <td><p><code><a href='scMethrix-class.html'>scMethrix</a></code>; the single cell methylation experiment</p></td>
    </tr>
    <tr>
      <th>regions</th>
      <td><p>Granges; The regions from which to make the bins.</p></td>
    </tr>
    <tr>
      <th>bin_size</th>
      <td><p>integer; The size of each bin. First bin will begin at the start position of the first genomic
region on the chromosome. If NULL, there will be one bin per region. Default 100000.</p></td>
    </tr>
    <tr>
      <th>bin_by</th>
      <td><p>character; can create bins by # of base pairs "bp" or by # of CpG sites "cpg". Default "bp"</p></td>
    </tr>
    <tr>
      <th>trans</th>
      <td><p>named vector of closures; The transforms for each assay in a named vector. Default NULL, meaning that
operations for "counts" assay is sum(x, na.rm=TRUE), and for all other assays is mean(x, na.rm=TRUE)</p></td>
    </tr>
    <tr>
      <th>overlap_type</th>
      <td><p>character; defines the type of the overlap of the CpG sites with the target region.
Default value is <code>within</code>. For detailed description, see the <code>findOverlaps</code> function of the
<code>IRanges</code> package.</p></td>
    </tr>
    <tr>
      <th>h5_dir</th>
      <td><p>directory to store an H5 based object</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>boolean; Flag for outputting function status messages. Default = TRUE</p></td>
    </tr>
    <tr>
      <th>batch_size</th>
      <td><p>integer; the number of samples to process at once</p></td>
    </tr>
    <tr>
      <th>n_threads</th>
      <td><p>integer; Number of parallel instances. <code>n_threads</code> should be less than or equal to <code>n_chunks</code>. Default = 1</p></td>
    </tr>
    <tr>
      <th>replace</th>
      <td><p>boolean; flag for whether to delete the contents of h5_dir before saving</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An <code><a href='scMethrix-class.html'>scMethrix</a></code> object</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Uses the inputted function to transform an assay in the <code><a href='scMethrix-class.html'>scMethrix</a></code> object. Typically, most assays will use either mean (for measurements) or sum (for counts). The transform is applied column-wise to optimize how HDF5 files access sample data. If HDF5 objects are used, transform functions should be  from <span class="pkg">DelayedMatrixStats</span>.</p>
<p>In the output object, the number of CpGs in each region is saved in mcol(scm)$n_cpgs.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='st'>'scMethrix_data'</span><span class='op'>)</span>
<span class='va'>regions</span> <span class='op'>&lt;-</span> <span class='fu'>GRanges</span><span class='op'>(</span>seqnames <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"chr1"</span><span class='op'>)</span>, ranges <span class='op'>=</span> <span class='fu'>IRanges</span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>200000000</span><span class='op'>)</span><span class='op'>)</span> 
<span class='va'>regions</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/unlist.html'>unlist</a></span><span class='op'>(</span><span class='fu'>tile</span><span class='op'>(</span><span class='va'>regions</span>,<span class='fl'>10</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>bin_scMethrix</span><span class='op'>(</span><span class='va'>scMethrix_data</span>, regions <span class='op'>=</span> <span class='va'>regions</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>Binning experiment...</span></div><div class='output co'>#&gt; <span class='message'>Subsetting CpG sites...</span></div><div class='output co'>#&gt; <span class='message'>   Subsetting by regions</span></div><div class='output co'>#&gt; <span class='message'>Subset in 0.12s</span></div><div class='output co'>#&gt; <span class='message'>Subsetting for 10 input regions...</span></div><div class='output co'>#&gt; <span class='message'>Binning by bp with size of 1e+05...</span></div><div class='output co'>#&gt; <span class='message'>Generated 131 bins in 0.16s</span></div><div class='output co'>#&gt; <span class='message'>   Filling bins for the score assay...</span></div><div class='output co'>#&gt; <span class='message'>Bins filled in 0.55s</span></div><div class='output co'>#&gt; <span class='message'>   Filling bins for the counts assay...</span></div><div class='output co'>#&gt; <span class='message'>Bins filled in 0.02s</span></div><div class='output co'>#&gt; <span class='message'>Rebuilding experiment...</span></div><div class='output co'>#&gt; <span class='message'>Experiment binned for 10 regions containing 131 total bins in 0.94s</span></div><div class='output co'>#&gt; An object of class scMethrix
#&gt;    n_CpGs: 131
#&gt;    n_samples: 4
#&gt;    assays: score, counts
#&gt;    reduced dims: 
#&gt;    is_h5: FALSE
#&gt;    Reference: hg19
#&gt;    Physical size: 37.3 Kb</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Lindsay Andrew.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


